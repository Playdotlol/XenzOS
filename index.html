<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>XenzOS</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;600&display=swap');
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
      overflow: hidden;
      transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
    }
    /* Light and Dark Theme */
    body {
      background-color: #f5f5f5;
    }
    .dark body {
      background-color: #1f1f1f;
      color: #fff;
    }

    #wallpaper {
      filter: brightness(1);
    }
    .dark #wallpaper {
      filter: brightness(0.4);
    }

    .window {
      background-color: #fff;
    }
    .dark .window {
      background-color: #333;
      color: #fff;
    }

    .win-header {
      background-color: #f0f0f0;
    }
    .dark .win-header {
      background-color: #444;
    }

    .dock button {
      background: transparent;
      border: none;
      font-size: 32px;
      color: #fff;
      transition: transform 0.2s;
    }
    .dark .dock button:hover {
      transform: scale(1.2) translateY(-2px);
    }

    #menuBar {
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 24px;
      backdrop-filter: blur(12px);
      background: rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      padding: 0 10px;
      font-size: 12px;
      color: #fff;
      z-index: 200;
    }

    .dark #menuBar {
      background: rgba(50, 50, 50, 0.7);
    }

    .window-content {
      flex: 1;
      padding: 10px;
      overflow: auto;
    }

    .dark .window-content {
      background-color: #444;
      color: #fff;
    }

    #settings-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #333;
      color: #fff;
      padding: 10px;
      border-radius: 12px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<!-- Login Screen -->
<div id="login-screen" class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-black via-gray-900 to-gray-800 z-300">
  <div class="bg-black/60 p-10 rounded-2xl text-center text-white shadow-2xl">
    <h1 class="text-4xl font-semibold mb-6">üîê Welcome to XenzOS</h1>
    <input id="username" type="text" placeholder="Username" class="mb-2 w-full p-3 rounded bg-gray-800 focus:outline-none" /><br/>
    <input id="password" type="password" placeholder="Password" class="mb-4 w-full p-3 rounded bg-gray-800 focus:outline-none" /><br/>
    <button onclick="login()" class="bg-gradient-to-r from-purple-600 to-blue-500 px-6 py-2 rounded-full hover:opacity-90">Login</button>
    <p id="login-error" class="text-red-400 mt-3 hidden">Invalid credentials</p>
  </div>
</div>

<!-- Menu Bar -->
<div id="menuBar" style="display:none;">üçé XenzOS</div>

<!-- Desktop -->
<div id="desktop" style="display:none;">
  <div id="windows"></div>
  <div id="dock" class="dock"></div>
  <button id="xenz-btn" class="p-2 text-white rounded-full" onclick="startAssistant()">üéôÔ∏è</button>
</div>

<!-- Settings App -->
<div id="settings-window" class="window" style="display: none; z-index: 9999;">
  <div class="win-header">
    <h2 class="text-xl">Settings</h2>
    <button onclick="closeSettings()">‚úñÔ∏è</button>
  </div>
  <div class="window-content">
    <h3 class="text-lg">Theme Settings</h3>
    <label for="dark-mode-toggle">Enable Dark Mode</label>
    <input type="checkbox" id="dark-mode-toggle" onchange="toggleTheme()" />
  </div>
</div>

<script>
  const wallpapers = [
    'https://source.unsplash.com/collection/928423/1920x1080',
    'https://source.unsplash.com/collection/181581/1920x1080',
    'https://wallpapercave.com/wp/wp5128415.jpg'
  ];
  const cred = { username: 'admin', password: '1234' };
  let z = 100, count = 0;

  // Set the wallpaper
  function setWallpaper() {
    document.getElementById('wallpaper').style.backgroundImage =
      `url(${wallpapers[Math.floor(Math.random() * wallpapers.length)]})`;
  }

  // Login function
  function login() {
    const u = document.getElementById('username').value;
    const p = document.getElementById('password').value;
    if (u === cred.username && p === cred.password) {
      document.getElementById('login-screen').style.display = 'none';
      document.getElementById('menuBar').style.display = 'flex';
      document.getElementById('desktop').style.display = 'block';
      setWallpaper();
      initDock();
    } else {
      document.getElementById('login-error').classList.remove('hidden');
    }
  }

  // Toggle Dark Mode
  function toggleTheme() {
    const body = document.body;
    body.classList.toggle('dark');
    localStorage.setItem('darkMode', body.classList.contains('dark'));
    showNotification(body.classList.contains('dark') ? "Dark Mode enabled" : "Light Mode enabled");
  }

  // Load the theme from local storage
  function loadTheme() {
    const savedTheme = localStorage.getItem('darkMode');
    if (savedTheme === 'true') {
      document.body.classList.add('dark');
      document.getElementById('dark-mode-toggle').checked = true;
    } else {
      document.body.classList.remove('dark');
      document.getElementById('dark-mode-toggle').checked = false;
    }
  }

  // Call the function to load the theme when the page loads
  loadTheme();

  // Show notifications
  function showNotification(text) {
    const note = document.createElement('div');
    note.innerText = text;
    Object.assign(note.style, {
      position: 'fixed',
      top: '10px',
      right: '10px',
      background: 'rgba(255,255,255,0.8)',
      color: '#000',
      padding: '10px',
      borderRadius: '5px',
      boxShadow: '0 2px 8px rgba(0,0,0,0.2)',
      zIndex: 500
    });
    document.body.appendChild(note);
    setTimeout(() => note.remove(), 4000);
  }

  // Initialize the Dock with apps
  function initDock() {
    const apps = [
      ['üìù', 'Notes', () => openApp('Notes')],
      ['üí¨', 'Chat', () => openApp('Chat')],
      ['üéÆ', 'Games', () => openApp('Games')],
      ['üåç', 'Browser', () => openApp('Browser')],
      ['üéµ', 'Music', () => openApp('Music')],
      ['‚òÄÔ∏è', 'Weather', () => openApp('Weather')],
      ['üñ•Ô∏è', 'Terminal', () => openApp('Terminal')],
      ['‚öôÔ∏è', 'Settings', openSettings]
    ];

    apps.forEach(([icon, title, func]) => {
      const btn = document.createElement('button');
      btn.innerText = icon;
      btn.title = title;
      btn.onclick = func;
      document.getElementById('dock').appendChild(btn);
    });
  }

  // Open an app in a new window (dummy function for now)
  function openApp(name) {
    alert(`Opening ${name} app...`);
  }

  // Open Settings Window as an app
  function openSettings() {
    document.getElementById('settings-window').style.display = 'block';
  }

  // Close Settings Window
  function closeSettings() {
    document.getElementById('settings-window').style.display = 'none';
  }

  // Voice Assistant
  function startAssistant() {
    alert("Starting XenzAssist...");
  }
</script>

</body>
</html>
